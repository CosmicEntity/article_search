{"version":3,"sources":["components/ViewArticle.jsx","components/Chart.jsx","components/SearchArticle.jsx","App.js","index.js"],"names":["ViewArticle","props","status","article","render","map","theDate","Date","parse","pub_date","input","abstract","length","substring","url","web_url","key","_id","className","toLocaleDateString","headline","main","rel","href","target","source","loading","pageNumber","onClick","prevPageNumber","nextPageNumber","src","alt","class","Chart","barData","yearData","labels","datasets","label","labelColor","data","chartData","backgroundColor","borderColor","borderWidth","width","height","options","title","display","text","fontSize","legend","position","align","fontColor","SearchArticle","handleQueryStringChange","event","setState","queryString","value","changeNextPageNumber","page","state","axios","get","toLowerCase","then","res","response","docs","changePrevPageNumber","getData","articles","facets","pub_year","terms","i","forEach","element","parseInt","term","push","count","finally","yearWiseArticlesPublished","alert","preventDefault","Grid","celled","Row","Column","onSubmit","this","type","placeholder","name","onChange","Component","App","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a7b7be59.chunk.js","sourcesContent":["import React from 'react'\r\n\r\n\r\nexport default function ViewArticle(props) {\r\n\r\n\r\n    if(props.status){\r\n        const articles = props.render\r\n\r\n        const article = articles.map((article)=>{\r\n\r\n            const theDate = new Date( Date.parse(article.pub_date));\r\n\r\n            let input = article.abstract\r\n                if(input.length>75){\r\n                 input = input.substring(0,75)+'...'\r\n                }\r\n             \r\n             let url = article.web_url\r\n                if(url.length>30){\r\n                url = url.substring(0,30)+'...'\r\n                }\r\n\r\n                    return (<tr key={article._id}>\r\n                        <td className=\"two wide\">{theDate.toLocaleDateString()}</td>\r\n                        <td className=\"four wide\">{article.headline.main}</td>\r\n                        <td className=\"four wide\">{input}</td>\r\n                        <td className=\"four wide\"><a rel=\"noopener noreferrer\" href={article.web_url} target='_blank'>{url}</a></td>\r\n                        <td className=\"two wide\">{article.source}</td>\r\n                        </tr>)\r\n                })\r\n\r\n  \r\n \r\n        \r\n        return (\r\n            <div className=\"container\">\r\n            <div className='ui violet ribbon label'>\r\n                <h4>Page:  <span className={`ui basic white inverted ${props.loading} mini button`}>{props.pageNumber}</span></h4>\r\n            </div>\r\n            <table className=\"ui celled striped table\">\r\n            <thead>\r\n                <tr>\r\n                <th>Published Date</th>\r\n                <th>Headline</th>\r\n                <th>Summary</th>\r\n                <th>URL</th>\r\n                <th>Source</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                    {article}\r\n            </tbody>\r\n            </table>\r\n            \r\n          \r\n            <div>\r\n            <button className=\"ui labeled icon inverted secondary button\" onClick={props.prevPageNumber}>\r\n                <i className=\"left arrow icon\"></i>\r\n                Prev\r\n            </button>\r\n            <button className=\"ui right labeled icon inverted secondary button\" onClick={props.nextPageNumber}>\r\n                <i className=\"right arrow icon\"></i>\r\n                Next\r\n             </button>\r\n            </div>\r\n            \r\n            <hr/>\r\n            </div>\r\n        )\r\n    }else{\r\n        if(`${props.loading}`!=='loading'){\r\n            return(\r\n                <div className=\"start\">\r\n                        <h1>Search for breaking news from across the world, across the times.</h1>\r\n                        <img src=\"https://img.icons8.com/nolan/512/news.png\" alt='newspaper icon'/>\r\n                        \r\n                </div>)\r\n        }else{\r\n            return(\r\n                <div class=\"ui active dimmer start\">\r\n                    <div class=\"ui loader\"></div>\r\n                </div>\r\n            )\r\n        }\r\n        \r\n    }\r\n   \r\n}\r\n","import React from 'react'\r\nimport {Bar} from 'react-chartjs-2'\r\n\r\nexport default function Chart(props) {\r\n\r\n    const barData =  {\r\n        yearData: {\r\n            labels:[2011,2012,2013,2014,2015,2016,2017,2018,2019,2020],\r\n            datasets:[{\r\n                label:'No. of Articles Published',\r\n                labelColor:'#000',\r\n                data: props.chartData,\r\n                backgroundColor: [\r\n                    'rgba(255, 99, 132, 0.2)',\r\n                    'rgba(54, 162, 235, 0.2)',\r\n                    'rgba(255, 206, 86, 0.2)',\r\n                    'rgba(75, 192, 192, 0.2)',\r\n                    'rgba(153, 102, 255, 0.2)',\r\n                    'rgba(255, 159, 64, 0.2)',\r\n                    'rgba(0, 201, 90, 0.2)',\r\n                    'rgba(0, 0, 255, 0.2)',\r\n                    'rgba(0, 0, 0, 0.2)',\r\n                    'rgba(255, 215, 0, 0.2)'\r\n                ],\r\n                borderColor: '#000',\r\n                borderWidth: 2\r\n\r\n                \r\n            }]\r\n        }\r\n   }\r\n        \r\n        if(props.status){\r\n\r\n            return (\r\n                <div className=\"Chart\">\r\n                <Bar\r\n                data={barData.yearData}\r\n                width={100}\r\n                height={50}\r\n                options={{ \r\n                    title:{\r\n                        display: true,\r\n                        text:'No. of Articles Published Every Year on this Topic',\r\n                        fontSize: 25\r\n                    },\r\n                    legend:{\r\n                        display:true,\r\n                        position:'top',\r\n                        align:'end',\r\n                        labels:{\r\n                            fontColor:\"#000\",\r\n                            fontSize: 16,\r\n                            backgroundColor:'#000'\r\n                        }\r\n                    }\r\n                }}\r\n              />\r\n                </div>\r\n            )\r\n        }else{\r\n            return(<div></div>)\r\n        }\r\n        \r\n    }\r\n","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport {Grid} from 'semantic-ui-react'\r\nimport ViewArticle from './ViewArticle'\r\nimport Chart from './Chart'\r\n\r\n\r\n\r\nexport default class SearchArticle extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n    \r\n        this.state = {\r\n            data: [] ,\r\n            queryString: '',\r\n            status: false,\r\n            pageNumber: 0,\r\n            loading:\"\",\r\n            yearWiseArticlesPublished:[]\r\n\r\n\r\n        \r\n        }\r\n    }\r\n\r\n    //Search Field Change\r\n   handleQueryStringChange = (event) =>{\r\n            \r\n            \r\n            this.setState({\r\n                queryString: event.target.value\r\n            })\r\n            \r\n   }\r\n\r\n   //Get Data for Next Page\r\n   changeNextPageNumber = ()=>{\r\n       const page = this.state.pageNumber +1\r\n\r\n       this.setState({\r\n           pageNumber: page,\r\n           loading:\"loading\"\r\n       },()=>{\r\n        axios.get(`https://api.nytimes.com/svc/search/v2/articlesearch.json?q=${this.state.queryString.toLowerCase()}&begin_date=20110101&end_date=20200410&sort=newest&page=${this.state.pageNumber}&api-key=xrp7NPZMKRQ3U8nmHM5UMXu2XwBKYXei`)\r\n        .then( res => this.setState({data: res.data.response.docs,status: true,loading:\"\" }))\r\n       })\r\n\r\n       \r\n   }\r\n\r\n//Get Data for Previous Page\r\n   changePrevPageNumber = ()=>{\r\n       if(this.state.pageNumber>0){\r\n           const page = this.state.pageNumber -1\r\n           this.setState({\r\n               pageNumber: page,\r\n               loading:\"loading\"\r\n           },()=>{\r\n            axios.get(`https://api.nytimes.com/svc/search/v2/articlesearch.json?q=${this.state.queryString.toLowerCase()}&begin_date=20110101&end_date=20200410&sort=newest&page=${this.state.pageNumber}&api-key=xrp7NPZMKRQ3U8nmHM5UMXu2XwBKYXei`)\r\n            .then( res => this.setState({data: res.data.response.docs,status: true,loading:\"\" }))\r\n           })\r\n       }\r\n\r\n\r\n   }\r\n\r\n   //Receive Data For First Time\r\n   getData = (event)=>{\r\n\r\n\r\n       if(this.state.queryString!==\"\"){\r\n           this.setState({\r\n               loading:\"loading\",\r\n               status:false\r\n           }, () =>{   let yearData = []\r\n           axios.get(`https://api.nytimes.com/svc/search/v2/articlesearch.json?q=${this.state.queryString.toLowerCase()}&begin_date=20110101&end_date=20200410&sort=newest&page=${this.state.pageNumber}&api-key=xrp7NPZMKRQ3U8nmHM5UMXu2XwBKYXei`)\r\n           .then( res => this.setState({data: res.data.response.docs,status: true, pageNumber:0 }))\r\n           \r\n           axios.get(`https://api.nytimes.com/svc/search/v2/articlesearch.json?q=${this.state.queryString.toLowerCase()}&facet=true&facet_fields=pub_year&begin_date=20110101&end_date=20200410&p&api-key=xrp7NPZMKRQ3U8nmHM5UMXu2XwBKYXei`)\r\n           .then(res => {\r\n               let articles = res.data.response.facets.pub_year.terms\r\n               for(let i=2011;i<=2020;i++){\r\n               articles.forEach(element => {\r\n                   let term = parseInt(element.term,10)\r\n                       if(term === i){\r\n                           yearData.push(element.count)\r\n                           return true\r\n                       }\r\n                       })\r\n                   }\r\n               }).finally(()=>{\r\n                   this.setState({\r\n                       yearWiseArticlesPublished: yearData,\r\n                       loading:\"\",\r\n                       status:true\r\n                   })\r\n               })})\r\n       \r\n            \r\n\r\n       }else{\r\n           alert('Please enter the Article to be searched')\r\n       }\r\n     \r\n       event.preventDefault();\r\n   }\r\n    \r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                    <Grid celled='internally'>\r\n                    <Grid.Row>\r\n                    \r\n                    <Grid.Column width={3}>\r\n                        <h3>THE NEW YORK TIMES</h3>\r\n                        <hr/>\r\n                        <h4>Dashboard</h4>\r\n                        <h4>Analytics</h4>\r\n                        <h4>Messages</h4>\r\n                        <h4>Calender</h4>\r\n                    </Grid.Column>\r\n                    <Grid.Column width={13}>\r\n                        <form onSubmit={this.getData}>\r\n                            <div className=\"ui action input\">\r\n                                <input type=\"text\" placeholder=\"Search Article\" name='queryString' \r\n                                value={this.state.queryString} onChange={this.handleQueryStringChange} />\r\n\r\n                                <button className=\"ui green inverted button\" type='submit'>Search</button>\r\n                            </div>\r\n                        </form>\r\n                        <hr/>\r\n                        <ViewArticle render={this.state.data} \r\n                        nextPageNumber={this.changeNextPageNumber}\r\n                        pageNumber={this.state.pageNumber} \r\n                        prevPageNumber={this.changePrevPageNumber}\r\n                        loading={this.state.loading} \r\n                        status={this.state.status}/>\r\n                        <Chart chartData={this.state.yearWiseArticlesPublished} status={this.state.status}/>\r\n                        \r\n                        \r\n                        \r\n                    </Grid.Column>\r\n                    </Grid.Row>\r\n                    </Grid>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\nimport './App.css';\nimport SearchArticle from './components/SearchArticle'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n    <SearchArticle></SearchArticle>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}