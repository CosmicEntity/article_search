(this.webpackJsonparticle_search=this.webpackJsonparticle_search||[]).push([[0],{203:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(64),s=a.n(l),c=(a(81),a(82),a(65)),i=a(66),o=a(74),u=a(75),m=a(14),d=a.n(m),g=a(205);function h(e){if(e.status){var t=e.render.map((function(e){var t=new Date(Date.parse(e.pub_date)),a=e.abstract;a.length>75&&(a=a.substring(0,75)+"...");var n=e.web_url;return n.length>30&&(n=n.substring(0,30)+"..."),r.a.createElement("tr",{key:e._id},r.a.createElement("td",{className:"two wide"},t.toLocaleDateString()),r.a.createElement("td",{className:"four wide"},e.headline.main),r.a.createElement("td",{className:"four wide"},a),r.a.createElement("td",{className:"four wide"},r.a.createElement("a",{rel:"noopener noreferrer",href:e.web_url,target:"_blank"},n)),r.a.createElement("td",{className:"two wide"},e.source))}));return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"ui violet ribbon label"},r.a.createElement("h4",null,"Page:  ",r.a.createElement("span",{className:"ui basic white inverted ".concat(e.loading," mini button")},e.pageNumber))),r.a.createElement("table",{className:"ui celled striped table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Published Date"),r.a.createElement("th",null,"Headline"),r.a.createElement("th",null,"Summary"),r.a.createElement("th",null,"URL"),r.a.createElement("th",null,"Source"))),r.a.createElement("tbody",null,t)),r.a.createElement("div",null,r.a.createElement("button",{className:"ui labeled icon inverted secondary button",onClick:e.prevPageNumber},r.a.createElement("i",{className:"left arrow icon"}),"Prev"),r.a.createElement("button",{className:"ui right labeled icon inverted secondary button",onClick:e.nextPageNumber},r.a.createElement("i",{className:"right arrow icon"}),"Next")),r.a.createElement("hr",null))}return r.a.createElement("div",{className:"start"},r.a.createElement("h1",null,"Search for breaking news from across the world, across the times."),r.a.createElement("img",{src:"https://img.icons8.com/nolan/512/news.png",alt:"newspaper icon"}))}var b=a(67);function p(e){var t={yearData:{labels:[2011,2012,2013,2014,2015,2016,2017,2018,2019,2020],datasets:[{label:"No. of Articles Published",labelColor:"#000",data:e.chartData,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)","rgba(0, 201, 90, 0.2)","rgba(0, 0, 255, 0.2)","rgba(0, 0, 0, 0.2)","rgba(255, 215, 0, 0.2)"],borderColor:"#000",borderWidth:2}]}};return e.status?r.a.createElement("div",{className:"Chart"},r.a.createElement(b.a,{data:t.yearData,width:100,height:50,options:{title:{display:!0,text:"No. of Articles Published Every Year on this Topic",fontSize:25},legend:{display:!0,position:"top",align:"end",labels:{fontColor:"#000",fontSize:16,backgroundColor:"#000"}}}})):r.a.createElement("div",null)}var E=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleQueryStringChange=function(t){e.setState({queryString:t.target.value})},e.changeNextPageNumber=function(){var t=e.state.pageNumber+1;e.setState({pageNumber:t,loading:"loading"},(function(){d.a.get("https://api.nytimes.com/svc/search/v2/articlesearch.json?q=".concat(e.state.queryString.toLowerCase(),"&begin_date=20110101&end_date=20200410&sort=newest&page=").concat(e.state.pageNumber,"&api-key=xrp7NPZMKRQ3U8nmHM5UMXu2XwBKYXei")).then((function(t){return e.setState({data:t.data.response.docs,status:!0,loading:""})}))}))},e.changePrevPageNumber=function(){if(e.state.pageNumber>0){var t=e.state.pageNumber-1;e.setState({pageNumber:t,loading:"loading"},(function(){d.a.get("https://api.nytimes.com/svc/search/v2/articlesearch.json?q=".concat(e.state.queryString.toLowerCase(),"&begin_date=20110101&end_date=20200410&sort=newest&page=").concat(e.state.pageNumber,"&api-key=xrp7NPZMKRQ3U8nmHM5UMXu2XwBKYXei")).then((function(t){return e.setState({data:t.data.response.docs,status:!0,loading:""})}))}))}},e.getData=function(t){if(""!==e.state.queryString){var a=[];d.a.get("https://api.nytimes.com/svc/search/v2/articlesearch.json?q=".concat(e.state.queryString.toLowerCase(),"&begin_date=20110101&end_date=20200410&sort=newest&page=").concat(e.state.pageNumber,"&api-key=xrp7NPZMKRQ3U8nmHM5UMXu2XwBKYXei")).then((function(t){return e.setState({data:t.data.response.docs,status:!0,pageNumber:0})})),d.a.get("https://api.nytimes.com/svc/search/v2/articlesearch.json?q=".concat(e.state.queryString.toLowerCase(),"&facet=true&facet_fields=pub_year&begin_date=20110101&end_date=20200410&p&api-key=xrp7NPZMKRQ3U8nmHM5UMXu2XwBKYXei")).then((function(e){for(var t=e.data.response.facets.pub_year.terms,n=function(e){t.forEach((function(t){if(parseInt(t.term,10)===e)return a.push(t.count),!0}))},r=2011;r<=2020;r++)n(r)})).finally((function(){e.setState({yearWiseArticlesPublished:a})}))}else alert("Please enter the Article to be searched");t.preventDefault()},e.state={data:[],queryString:"",status:!1,pageNumber:0,loading:"",yearWiseArticlesPublished:[]},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(g.a,{celled:"internally"},r.a.createElement(g.a.Row,null,r.a.createElement(g.a.Column,{width:3},r.a.createElement("h3",null,"THE NEW YORK TIMES"),r.a.createElement("hr",null),r.a.createElement("h4",null,"Dashboard"),r.a.createElement("h4",null,"Analytics"),r.a.createElement("h4",null,"Messages"),r.a.createElement("h4",null,"Calender")),r.a.createElement(g.a.Column,{width:13},r.a.createElement("form",{onSubmit:this.getData},r.a.createElement("div",{className:"ui action input"},r.a.createElement("input",{type:"text",placeholder:"Search Article",name:"queryString",value:this.state.queryString,onChange:this.handleQueryStringChange}),r.a.createElement("button",{className:"ui green inverted button",type:"submit"},"Search"))),r.a.createElement("hr",null),r.a.createElement(h,{render:this.state.data,nextPageNumber:this.changeNextPageNumber,pageNumber:this.state.pageNumber,prevPageNumber:this.changePrevPageNumber,loading:this.state.loading,status:this.state.status}),r.a.createElement(p,{chartData:this.state.yearWiseArticlesPublished,status:this.state.status})))))}}]),a}(n.Component);var f=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(E,null))};s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f,null)),document.getElementById("root"))},76:function(e,t,a){e.exports=a(203)},81:function(e,t,a){},82:function(e,t,a){}},[[76,1,2]]]);
//# sourceMappingURL=main.ac4a037d.chunk.js.map